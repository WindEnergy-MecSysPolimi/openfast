#!/bin/bash

mkdir build
cd build
cmake .. -DBUILD_OPENFAST_CPP_API:BOOL=ON -DFPE_TRAP_ENABLED:BOOL=ON
make
gfortran    -fpic -ffree-line-length-none -cpp -fdefault-real-8 -O3 -DNDEBUG -O3 /home/antonio/OpenFAST/build/modules/servodyn/CMakeFiles/servodyn_driver.dir/src/ServoDyn_Driver.f90.o  -o modules/servodyn/servodyn_driver /home/antonio/OpenFAST/modules/servodyn/src/forpy_mod.o `python3-config --ldflags` -I/home/antonio/OpenFAST/build/ftnmods /home/antonio/OpenFAST/build/modules/servodyn/libservodynlib.a /home/antonio/OpenFAST/build/modules/nwtc-library/libnwtclibs.a /home/antonio/OpenFAST/build/modules/version/libversioninfolib.a -ldl /usr/lib/x86_64-linux-gnu/liblapack.so /usr/lib/x86_64-linux-gnu/libblas.so -ldl 
make
gfortran    -fpic -ffree-line-length-none -cpp -fdefault-real-8 -O3 -DNDEBUG -O3 /home/antonio/OpenFAST/build/glue-codes/openfast/CMakeFiles/openfast.dir/src/FAST_Prog.f90.o  -o glue-codes/openfast/openfast /home/antonio/OpenFAST/modules/servodyn/src/forpy_mod.o `python3-config --ldflags` -I/home/antonio/OpenFAST/build/ftnmods -lopenfast_postlib -lfoamfastlib -lscfastlib -lopenfast_prelib -lopenfoamtypeslib /home/antonio/OpenFAST/build/modules/aerodyn/libaerodynlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libfvwlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libuaaerolib.a /home/antonio/OpenFAST/build/modules/aerodyn/libaeroacoustics.a /home/antonio/OpenFAST/build/modules/aerodyn/libafinfolib.a -laerodyn14lib -lifwlib -lelastodynlib -lbeamdynlib -lsubdynlib -lhydrodynlib -lorcaflexlib -lextptfm_mckflib -lfeamlib -lmoordynlib -licedynlib -licefloelib -lmaplib -lmapcpplib -lsctypeslib /home/antonio/OpenFAST/build/modules/servodyn/libservodynlib.a /home/antonio/OpenFAST/build/modules/nwtc-library/libnwtclibs.a /home/antonio/OpenFAST/build/modules/version/libversioninfolib.a /usr/lib/x86_64-linux-gnu/liblapack.so /usr/lib/x86_64-linux-gnu/libblas.so -ldl -lstdc++ 
make
c++  -fpic -O3 -DNDEBUG  -rdynamic -pthread /home/antonio/OpenFAST/build/glue-codes/openfast-cpp/CMakeFiles/openfastcpp.dir/src/FAST_Prog.cpp.o  -o glue-codes/openfast-cpp/openfastcpp -Wl,-rpath,/usr/lib/x86_64-linux-gnu/openmpi/lib:/usr/lib/x86_64-linux-gnu/hdf5/serial: /home/antonio/OpenFAST/build/glue-codes/openfast-cpp/libopenfastcpplib.a /home/antonio/OpenFAST/build/modules/openfast-library/libopenfastlib.a /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so -lyaml-cpp /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5.so -lpthread -lsz -lz -ldl -lm /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5_hl.so -lz -lxml2 -ldl /home/antonio/OpenFAST/build/modules/openfast-library/libopenfast_postlib.a /home/antonio/OpenFAST/build/modules/servodyn/libservodynlib.a /home/antonio/OpenFAST/build/modules/nwtc-library/libnwtclibs.a /home/antonio/OpenFAST/build/modules/version/libversioninfolib.a /home/antonio/OpenFAST/build/modules/supercontroller/libscfastlib.a /home/antonio/OpenFAST/build/modules/openfoam/libfoamfastlib.a /home/antonio/OpenFAST/build/modules/openfast-library/libopenfast_prelib.a /home/antonio/OpenFAST/build/modules/aerodyn/libaerodynlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libfvwlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libuaaerolib.a /home/antonio/OpenFAST/build/modules/aerodyn/libaeroacoustics.a /home/antonio/OpenFAST/build/modules/aerodyn/libafinfolib.a /home/antonio/OpenFAST/build/modules/aerodyn14/libaerodyn14lib.a /home/antonio/OpenFAST/build/modules/inflowwind/libifwlib.a /home/antonio/OpenFAST/build/modules/elastodyn/libelastodynlib.a /home/antonio/OpenFAST/build/modules/beamdyn/libbeamdynlib.a /home/antonio/OpenFAST/build/modules/subdyn/libsubdynlib.a /home/antonio/OpenFAST/build/modules/hydrodyn/libhydrodynlib.a /home/antonio/OpenFAST/build/modules/orcaflex-interface/liborcaflexlib.a /home/antonio/OpenFAST/build/modules/extptfm/libextptfm_mckflib.a /home/antonio/OpenFAST/build/modules/supercontroller/libsctypeslib.a /home/antonio/OpenFAST/build/modules/feamooring/libfeamlib.a /home/antonio/OpenFAST/build/modules/moordyn/libmoordynlib.a /home/antonio/OpenFAST/build/modules/icedyn/libicedynlib.a /home/antonio/OpenFAST/build/modules/icefloe/libicefloelib.a /home/antonio/OpenFAST/build/modules/map/libmaplib.a /home/antonio/OpenFAST/build/modules/map/libmapcpplib.a /home/antonio/OpenFAST/build/modules/openfoam/libopenfoamtypeslib.a /usr/lib/x86_64-linux-gnu/liblapack.so /usr/lib/x86_64-linux-gnu/libblas.so -ldl -lm /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5_hl.so -lxml2 -ldl -lgfortran -lquadmath /home/antonio/OpenFAST/modules/servodyn/src/forpy_mod.o `python3-config --ldflags`
make
make install
sudo cp /home/antonio/OpenFAST/install/bin/* /usr/local/bin; sudo cp -r /home/antonio/OpenFAST/install/include/* /usr/local/include; sudo cp /home/antonio/OpenFAST/build/ftnmods/* /usr/local/include/openfast; sudo cp -r /home/antonio/OpenFAST/install/lib/* /usr/local/lib

c++  -fpic -O3 -DNDEBUG  -rdynamic -pthread /home/antonio/OpenFAST/build/glue-codes/openfast-cpp/CMakeFiles/openfastcpp.dir/src/FAST_Prog.cpp.o  -o glue-codes/openfast-cpp/openfastcpp -Wl,-rpath,/usr/lib/x86_64-linux-gnu/openmpi/lib:/usr/lib/x86_64-linux-gnu/hdf5/serial: -lopenfastcpplib -lopenfastlib /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so -lyaml-cpp /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5.so -lpthread -lsz -lz -ldl -lm /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5_hl.so -lz -lxml2 -ldl -lopenfast_postlib -lversioninfolib -lscfastlib -lfoamfastlib -lopenfast_prelib /home/antonio/OpenFAST/build/modules/aerodyn/libaerodynlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libfvwlib.a /home/antonio/OpenFAST/build/modules/aerodyn/libuaaerolib.a /home/antonio/OpenFAST/build/modules/aerodyn/libaeroacoustics.a /home/antonio/OpenFAST/build/modules/aerodyn/libafinfolib.a -laerodyn14lib -lifwlib -lelastodynlib -lservodynlib -lbeamdynlib -lsubdynlib -lhydrodynlib -lorcaflexlib -lextptfm_mckflib -lsctypeslib -lfeamlib -lmoordynlib -licedynlib -licefloelib -lmaplib -lmapcpplib -lopenfoamtypeslib -lnwtclibs /home/antonio/OpenFAST/build/modules/version/libversioninfolib.a /usr/lib/x86_64-linux-gnu/liblapack.so /usr/lib/x86_64-linux-gnu/libblas.so -ldl -lm /usr/lib/x86_64-linux-gnu/hdf5/serial/libhdf5_hl.so -lxml2 -ldl -lgfortran -lquadmath /home/antonio/OpenFAST/modules/servodyn/src/forpy_mod.o `python3-config --ldflags`

